DROP TABLE IF EXISTS PRODUCT;
CREATE TABLE PRODUCT
(
    ID INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
    NAME VARCHAR(50) NOT NULL,
    PRICE DOUBLE NOT NULL,
    CATEGORY VARCHAR(20) NOT NULL,
    INGREDIENTS VARCHAR(200) NOT NULL,
    PROTEIN DOUBLE NOT NULL,
    FAT DOUBLE NOT NULL,
    CARBOHYDRATE DOUBLE NOT NULL,
    CALORICITY DOUBLE NOT NULL,
    WEIGHT INT NOT NULL,
    PIC_ID VARCHAR(100) NOT NULL
);
CREATE UNIQUE INDEX PRODUCT_ID_uindex ON PRODUCT (ID);

CREATE TABLE USER
(
    ID INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
    CHAT_ID INT NOT NULL,
    PHONE_NUMBER VARCHAR(15),
    CALORICITY_LIMIT DOUBLE
);
CREATE UNIQUE INDEX USER_ID_uindex ON USER (ID);


CREATE TABLE "ORDER"
(
    ID INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
    DATE DATE NOT NULL,
    CONSTRAINT ORDER_PRODUCT_ID_fk FOREIGN KEY (ID) REFERENCES PRODUCT (ID),
    CONSTRAINT ORDER_USER_ID_fk FOREIGN KEY (ID) REFERENCES USER (ID)
);
CREATE UNIQUE INDEX ORDER_ID_uindex ON "ORDER" (ID);



INSERT INTO PUBLIC.PRODUCT (ID, NAME, PRICE, CATEGORY, INGREDIENTS, PROTEIN, FAT, CARBOHYDRATE, CALORICITY, WEIGHT, PIC_ID) VALUES (1001, 'Вишневий пиріг', 66, 'десерти', 'броколі, горох, сочевиця, спеції в асортименті, вершки 26 %, сіль, зелень в асортименті (кріп, петрушка, цибуля зел)', 5.6, 17.9, 34.1, 265, 200, 'AgADAgADLKkxG3sWAUmqBW55RdquGXoerQ4ABD45RVx71VyifYQCAAEC');
INSERT INTO PUBLIC.PRODUCT (ID, NAME, PRICE, CATEGORY, INGREDIENTS, PROTEIN, FAT, CARBOHYDRATE, CALORICITY, WEIGHT, PIC_ID) VALUES (2001, 'Качина грудка з вишневим соусом', 87, 'основні страви', 'філе мерлузи, морква, кабачок, вершки, томатний соус, кріп, лимон', 19, 6, 54.1, 84, 250, 'AgADAgADoqgxG6NrCUk7FflFjOO1HcoInA4ABGXR7q7CI7qfR2kFAAEC');
INSERT INTO PUBLIC.PRODUCT (ID, NAME, PRICE, CATEGORY, INGREDIENTS, PROTEIN, FAT, CARBOHYDRATE, CALORICITY, WEIGHT, PIC_ID) VALUES (3001, 'Вишневий сорбет з фруктами', 90, 'десерти', 'пісочне тісто (пшеничне борошно, вершкове масло, яйця, сіль), твердий сир, вершки, шинка, бекон, цибуля - порей', 1.1, 0.2, 14.4, 100, 200, 'AgADAgADpKgxG6NrCUnYT84uhhWziBK5qw4ABAO3t8LDQ-P2OYsCAAEC');
INSERT INTO PUBLIC.PRODUCT (ID, NAME, PRICE, CATEGORY, INGREDIENTS, PROTEIN, FAT, CARBOHYDRATE, CALORICITY, WEIGHT, PIC_ID) VALUES (4001, 'Вишнево-томатна сальса', 42, 'основні страви', 'листкове тісто, білий шоколад, яєчний жовток, цукор, вершкове масло', 1.5, 0.1, 7, 36, 150, 'AgADAgADo6gxG6NrCUmm5ScHuAMIqsG0tw4ABGeH07U-JdmdoAIAAgI');

